===[[[
This file contains changes specific to the scripts repo. See docs/changelog.txt
in the dfhack repo for a full description, or
https://docs.dfhack.org/en/latest/docs/dev/Documentation.html#building-the-changelogs

NOTE: currently, gen_changelog.py expects a "Future" section to exist at the
top of this file (even if no changes are listed under it), or you will get a
"Entry without section" error. Also, to maintain proper sorting in the generated
changelogs when making a new release, docs/changelog.txt in the dfhack repo must
have the new release listed in the right place, even if no changes were made in
that repo.

Template for new versions:

## New Tools

## New Features

- `gui/design`: add option to draw N-point stars, hollow or filled or inverted, and change the main axis to orient in any direction

## Fixes

## Misc Improvements

## Removed

]]]

# Future

## New Tools
- `deteriorate`: (reinstated) allow corpses, body parts, food, and/or damaged clothes to rot away
- `modtools/moddable-gods`: (reinstated) create new deities from scratch

## New Features
- `gui/spectate`: added "Prefer nicknamed" to the list of options
- `gui/mod-manager`: when run in a loaded world, shows a list of active mods -- click to export the list to the clipboard for easy sharing or posting
- `gui/blueprint`: now records zone designations

## Fixes
- `starvingdead`: properly restore to correct enabled state when loading a new game that is different from the first game loaded in this session
- `starvingdead`: ensure undead decay does not happen faster than the declared decay rate when saving and loading the game

## Misc Improvements
- `remove-stress`: also applied to long-term stress, immediately removing stressed and haggard statuses

## Removed

# 51.11-r1
- `gui/spectate`: added "Prefer nicknamed" to the list of options

## Fixes
- `list-agreements`: fix date math when determining petition age
- `gui/petitions`: fix date math when determining petition age
- `gui/rename`: fix commandline processing when manually specifying target ids
- `gui/sandbox`: restore metal equipment options when spawning units

## Misc Improvements
- `fix/loyaltycascade`: now also breaks up brawls and other intra-fort conflicts that *look* like loyalty cascades
- `makeown`: remove selected unit from any current conflicts so they don't just start attacking other citizens when you make them a citizen of your fort

# 51.09-r1

## New Features
- `gui/mass-remove`: add a button to the bottom toolbar when eraser mode is active for launching `gui/mass-remove`
- `idle-crafting`: default to only considering happy and ecstatic units for the highest need threshold
- `gui/sitemap`: add a button to the toolbar at the bottom left corner of the screen for launching `gui/sitemap`

## Fixes
- `idle-crafting`: check that units still have crafting needs before creating a job for them
- `gui/journal`: prevent pause/unpause events from leaking through the UI when keys are mashed

# 51.07-r1

## New Tools
- `devel/export-map`: export map tile data to a JSON file
- `autocheese`: automatically make cheese using barrels that have accumulated sufficient milk
- `gui/spectate`: interactive UI for configuring `spectate`
- `gui/notes`: UI for adding and managing notes attached to tiles on the map
- `launch`: (reinstated) new adventurer fighting move: thrash your enemies with a flying suplex
- `putontable`: (reinstated) make an item appear on a table

## New Features
- `advtools`: ``advtools.fastcombat`` overlay (enabled by default) allows you to skip combat animations and the announcement "More" button by mashing the movement keys
- `gui/journal`: now working in adventure mode -- journal is per-adventurer, so if you unretire an adventurer, you get the same journal
- `emigration`: ``nobles`` command for sending freeloader barons back to the sites that they rule over
- `toggle-kbd-cursor`: support adventure mode (Alt-k keybinding now toggles Look mode)

## Fixes
- `hfs-pit`: use correct wall types when making pits with walls
- `gui/liquids`: don't add liquids to wall tiles
- `gui/liquids`: using the remove tool with magma selected will no longer create unexpected unpathable tiles
- `idle-crafting`: do not assign crafting jobs to nobles holding meetings (avoids dangling jobs)
- `rejuvenate`: update unit portrait and sprite when aging up babies and children
- `rejuvenate`: recalculate labor assignments for unit when aging up babies and children (so they can start accepting jobs)

## Misc Improvements
- `hide-tutorials`: handle tutorial popups for adventure mode
- `hide-tutorials`: new ``reset`` command that will re-enable popups in the current game (in case you hid them all and now want them back)
- `gui/notify`: moody dwarf notification turns red when they can't reach workshop or items
- `gui/notify`: save reminder now appears in adventure mode
- `gui/notify`: save reminder changes color to yellow at 30 minutes and to orange at 60 minutes
- `gui/confirm`: in the delete manager order confirmation dialog, show a description of which order you have selected to delete
- `gui/create-item`: now accepts a ``pos`` argument of where to spawn items
- `modtools/create-item`: exported ``hackWish`` function now supports ``opts.pos`` for determining spawn location
- `hfs-pit`: improve placement of stairs w/r/t eerie pits and ramp tops
- `position`: add adventurer tile position
- `position`: add global site position
- `position`: when a tile is selected, display relevant map block and intra-block offset
- `gui/sitemap`: shift click to start following the selected unit or artifact
- `prioritize`: when prioritizing jobs of a specified type, also output how many of those jobs were already prioritized before you ran the command
- `prioritize`: don't include already-prioritized jobs in the output of ``prioritize -j``
- `gui/design`: only display vanilla dimensions tooltip if the DFHack dimensions tooltip is disabled
- `devel/query`: support adventure mode
- `devel/tree-info`: support adventure mode
- `hfs-pit`: support adventure mode
- `colonies`: support adventure mode
- `position`: report position of the adventure mode look cursor, if active

# 51.04-r1.1

## Fixes
- `advtools`: fix dfhack-added conversation options not appearing in the ask whereabouts conversation tree
- `gui/rename`: fix error when changing the language of a unit's name

## Misc Improvements
- `assign-preferences`: new ``--show`` option to display the preferences of the selected unit
- `pref-adjust`: new ``show`` command to display the preferences of the selected unit

## Removed
- `gui/control-panel`: removed ``craft-age-wear`` tweak for Windows users; the tweak doesn't currently load on Windows

# 51.02-r1

## Fixes
- `deathcause`: fix error when retrieving the name of a historical figure

# 50.15-r2

## New Tools
- `fix/stuck-squad`: allow squads and messengers returning from missions to rescue squads that have gotten stuck on the world map
- `gui/rename`: (reinstated) give new in-game language-based names to anything that can be named (units, governments, fortresses, the world, etc.)

## New Features
- `gui/settings-manager`: new overlay on the Labor -> Standing Orders tab for configuring the number of barrels to reserve for job use (so you can brew alcohol and not have all your barrels claimed by stockpiles for container storage)
- `gui/settings-manager`: standing orders save/load now includes the reserved barrels setting
- `gui/rename`: add overlay to worldgen screen allowing you to rename the world before the new world is saved
- `gui/rename`: add overlay to the "Prepare carefully" embark screen that transparently fixes a DF bug where you can't give units nicknames or custom professions
- `gui/notify`: new notification type: save reminder; appears if you have gone more than 15 minutes without saving; click to autosave

## Fixes
- `fix/dry-buckets`: don't empty buckets for wells that are actively in use
- `gui/unit-info-viewer`: skill progress bars now show correct XP thresholds for skills past Legendary+5
- `caravan`: no longer incorrectly identify wood-based plant items and plant-based soaps as being ethically unsuitable for trading with the elves
- `gui/design`: don't require an extra right click on the first cancel of building area designations
- `gui/gm-unit`: refresh unit sprite when profession is changed

## Misc Improvements
- `immortal-cravings`: goblins and other naturally non-eating/non-drinking races will now also satisfy their needs for eating and drinking
- `caravan`: add filter for written works in display furniture assignment dialog
- `fix/wildlife`: don't vaporize stuck wildlife that is onscreen -- kill them instead (as if they died from old age)
- `gui/sitemap`: show primary group affiliation for visitors and invaders (e.g. civilization name or performance troupe)

# 50.14-r2

## New Tools
- `fix/wildlife`: prevent wildlife from getting stuck when trying to exit the map. This fix needs to be enabled manually in `gui/control-panel` on the Bug Fixes tab since not all players want this bug to be fixed (you can intentionally stall wildlife incursions by trapping wildlife in an enclosed area so they are not caged but still cannot escape).
- `immortal-cravings`: allow immortals to satisfy their cravings for food and drink
- `justice`: pardon a criminal's prison sentence

## New Features
- `force`: add support for a ``Wildlife`` event to allow additional wildlife to enter the map

## Fixes
- `gui/quickfort`: only print a help blueprint's text once even if the repeat setting is enabled
- `makeown`: quell any active enemy or conflict relationships with converted creatures
- `makeown`: halt any hostile jobs the unit may be engaged in, like kidnapping
- `fix/loyaltycascade`: allow the fix to work on non-dwarven citizens
- `control-panel`: fix error when setting numeric preferences from the commandline
- `gui/quickfort`: fix build mode evaluation rules to allow placement of furniture and constructions on tiles with stair shapes or without orthagonal floors
- `emigration`: save-and-reload no longer resets the emigration cycle timeout
- `geld`, `ungeld`: save-and-reload no longer loses changes done by `geld` and `ungeld` for units who are historical figures
- `rejuvenate`: fix error when specifying ``--age`` parameter
- `gui/notify`: don't classify (peacefully) visiting night creatures as hostile
- `exportlegends`: ensure historical figure race filter is usable after re-entering legends mode with a different loaded world

## Misc Improvements
- `idle-crafting`: also support making shell crafts for workshops with linked input stockpiles
- `gui/gm-editor`: automatically resolve and display names for ``language_name`` fields
- `fix/stuck-worship`: reduced console output by default. Added ``--verbose`` and ``--quiet`` options.
- `gui/design`: add dimensions tooltip to vanilla zone painting interface
- `necronomicon`: new ``--world`` option to list all secret-containing items in the entire world
- `gui/design`: new ``gui/design.rightclick`` overlay that allows you to cancel out of partially drawn box and minecart designations without canceling completely out of drawing mode

## Removed
- `modtools/force`: merged into `force`

# 50.13-r5

## New Tools
- `embark-anyone`: allows you to embark as any civilization, including dead and non-dwarven civs
- `idle-crafting`: allow dwarves to independently satisfy their need to craft objects
- `gui/family-affairs`: (reinstated) inspect or meddle with pregnancies, marriages, or lover relationships
- `notes`: attach notes to locations on a fort map

## New Features
- `caravan`: DFHack dialogs for trade screens (both ``Bring goods to depot`` and the ``Trade`` barter screen) can now filter by item origins (foreign vs. fort-made) and can filter bins by whether they have a mix of ethically acceptable and unacceptable items in them
- `caravan`: If you have managed to select an item that is ethically unacceptable to the merchant, an "Ethics warning" badge will now appear next to the "Trade" button. Clicking on the badge will show you which items that you have selected are problematic. The dialog has a button that you can click to deselect the problematic items in the trade list.
- `confirm`: If you have ethically unacceptable items selected for trade, the "Are you sure you want to trade" confirmation will warn you about them
- `quickfort`: ``#zone`` blueprints now integrated with `preserve-rooms` so you can create a zone and automatically assign it to a noble or administrative role
- `exportlegends`: option to filter by race on historical figures page

## Fixes
- `timestream`: ensure child growth events (that is, a child's transition to adulthood) are not skipped; existing "overage" children will be automatically fixed within a year
- `empty-bin`: ``--liquids`` option now correctly empties containers filled with LIQUID_MISC (like lye)
- `gui/design`: don't overcount "affected tiles" for Line & Freeform drawing tools
- `deep-embark`: fix error when embarking where there is no land to stand on (e.g. when embarking in the ocean with `gui/embark-anywhere`)
- `deep-embark`: fix failure to transport units and items when embarking where there is no room to spawn the starting wagon
- `gui/create-item`, `modtools/create-item`: items of type "VERMIN", "PET", "REMANS", "FISH", "RAW FISH", and "EGG" no longer spawn creature item "nothing" and will now stack correctly
- `rejuvenate`: don't set a lifespan limit for creatures that are immortal (e.g. elves, goblins)
- `rejuvenate`: properly disconnect babies from mothers when aging babies up to adults

## Misc Improvements
- `gui/sitemap`: show whether a unit is friendly, hostile, or wild
- `gui/sitemap`: show whether a unit is caged
- `gui/control-panel`: include option for turning off dumping of old clothes for `tailor`, for players who have magma pit dumps and want to save old clothes from being dumped into the magma
- `position`: report current historical era (e.g., "Age of Myth"), site/adventurer world coords, and mouse map tile coords
- `position`: option to copy keyboard cursor position to the clipboard
- `assign-minecarts`: reassign vehicles to routes where the vehicle has been destroyed (or has otherwise gone missing)
- `fix/dry-buckets`: prompt DF to recheck requests for aid (e.g. "bring water" jobs) when a bucket is unclogged and becomes available for use
- `exterminate`: show descriptive names for the listed races in addition to their IDs
- `exterminate`: show actual names for unique creatures such as forgotten beasts and titans
- `fix/ownership`: now also checks and fixes room ownership links

## Documentation
- `gui/embark-anywhere`: add information about how the game determines world tile pathability and instructions for bridging two landmasses

# 50.13-r4

## New Features
- `gui/journal`: new automatic table of contents. add lines that start with "# ", like "# Entry for 502-04-02", to add hyperlinked headers to the table of contents

## Fixes
- `full-heal`: fix ``-r --all_citizens`` option combination not resurrecting citizens
- `open-legends`: don't intercept text bound for vanilla legends mode search widgets
- `gui/unit-info-viewer`: correctly display skill levels when rust is involved
- `timestream`: fix dwarves spending too long eating and drinking
- `timestream`: fix jobs not being created at a sufficient rate, leading to dwarves standing around doing nothing
- `locate-ore`: fix sometimes selecting an incorrect tile when there are multiple mineral veins in a single map block
- `gui/settings-manager`: fix position of "settings restored" message on embark when the player has no saved embark profiles
- `build-now`: fix error when building buildings that (in previous DF versions) required the architecture labor
- `prioritize`: fix incorrect restoring of saved settings on Windows
- `list-waves`: no longer gets confused by units that leave the map and then return (e.g. squads who go out on raids)
- `fix/dead-units`: fix error when removing dead units from burrows and the unit with the greatest ID was dead
- `makeown`: ensure names given to adopted units (or units created with `gui/sandbox`) are respected later in legends mode
- `gui/autodump`: prevent dumping into walls or invalid map areas
- `gui/autodump`: properly turn items into projectiles when they are teleported into mid-air

## Misc Improvements
- `build-now`: if `suspendmanager` is running, run an unsuspend cycle immediately before scanning for buildings to build
- `list-waves`: now outputs the names of the dwarves in each migration wave
- `list-waves`: can now display information about specific migration waves (e.g. ``list-waves 0`` to identify your starting 7 dwarves)
- `allneeds`: display distribution of needs by how severely they are affecting the dwarf

# 50.13-r3

## New Tools
- `advtools`: collection of useful commands and overlays for adventure mode
- `advtools`: added an overlay that automatically fixes corrupt throwing/shooting state, preventing save/load crashes
- `advtools`: advtools party - promotes one of your companions to become a controllable adventurer
- `advtools`: advtools pets - fixes pets you gift in adventure mode.
- `pop-control`: (reinstated) limit the maximum size of migrant waves
- `bodyswap`: (reinstated) take control of another unit in adventure mode
- `gui/sitemap`: list and zoom to people, locations, and artifacts
- `devel/tree-info`: print a technical visualization of tree data
- `gui/tiletypes`: interface for modifying map tiles and tile properties
- `fix/population-cap`: fixes the situation where you continue to get migrant waves even when you are above your configured population cap
- `fix/occupancy`: fixes issues where you can't build somewhere because the game tells you an item/unit/building is in the way but there's nothing there
- `fix/sleepers`: (reinstated) fixes sleeping units belonging to a camp that never wake up.
- `timestream`: (reinstated) keep the game running quickly even when there are large numbers of units on the map
- `gui/journal`: fort journal with a multi-line text editor
- `devel/luacov`: (reinstated) add Lua script coverage reporting for use in testing and performance analysis

## New Features
- `buildingplan`: dimension tooltip is now displayed for constructions and buildings that are designated over an area, like bridges and farm plots
- `gui/notify`: new notification type: injured citizens; click to zoom to injured units; also displays a warning if your hospital is not functional (or if you have no hospital)
- `gui/notify`: new notification type: drowning and suffocation progress bars for adventure mode
- `prioritize`: new info panel on under-construction buildings showing if the construction job has been taken and by whom. click to zoom to builder; toggle high priority status for job if it's not yet taken and you need it to be built ASAP
- `gui/unit-info-viewer`: new overlay for displaying progress bars for skills on the unit info sheet
- `gui/pathable`: new "Depot" mode that shows whether wagons can path to your trade depot
- `advtools`: automatically add a conversation option to "ask whereabouts of" for all your relationships (before, you could only ask whereabouts of people involved in rumors)
- `gui/design`: all-new visually-driven UI for much improved usability

## Fixes
- `assign-profile`: fix handling of ``unit`` option for setting target unit id
- `gui/gm-unit`: correctly display skill levels above Legendary+5
- `gui/gm-unit`: fix errors when editing/randomizing colors and body appearance
- `quickfort`: fix incorrect handling of stockpiles that are split into multiple separate areas but are given the same label (indicating that they should be part of the same stockpile)
- `makeown`: set animals to tame and domesticated
- `gui/sandbox`: spawned citizens can now be useful military squad members
- `gui/sandbox`: spawned undead now have a purple shade (only after save and reload, though)
- `caravan`: fix errors in trade dialog if all fort items are traded away while the trade dialog is showing fort items and the `confirm` trade confirmation is shown
- `control-panel`: restore non-default values of per-save enabled/disabled settings for repeat-based commands
- `confirm`: fix confirmation prompt behavior when overwriting a hotkey zoom location
- `quickfort`: allow farm plots to be built on muddy stone (as per vanilla behavior)
- `suspend`: remove broken ``--onlyblocking`` option; restore functionality to ``suspend all``
- `gui/create-item`: allow creation of adamantine thread, wool, and yarn
- `gui/notify`: the notification panel no longer responds to the Enter key so Enter key is passed through to the vanilla UI
- `clear-smoke`: properly tag smoke flows for garbage collection to avoid memory leak
- `warn-stranded`: don't warn for babies carried by mothers who happen to be gathering fruit from trees
- `prioritize`: also boost priority of already-claimed jobs when boosting priority of a job type so those jobs are not interrupted
- `ban-cooking`: ban all seed producing items from being cooked when 'seeds' is chosen instead of just brewable seed producing items

## Misc Improvements
- `item`: option for ignoring uncollected spider webs when you search for "silk"
- `gui/launcher`: "space space to toggle pause" behavior is skipped if the game was paused when `gui/launcher` came up to prevent accidental unpausing
- `gui/unit-info-viewer`: add precise unit size in cc (cubic centimeters) for comparison against the wiki values. you can set your preferred number format for large numbers like this in the preferences of `control-panel` or `gui/control-panel`
- `gui/unit-info-viewer`: now displays a unit's weight relative to a similarly-sized well-known creature (dwarves, elephants, or cats)
- `gui/unit-info-viewer`: shows a unit's size compared to the average for the unit's race
- `caravan`: optional overlay to hide vanilla "bring trade goods to depot" button (if you prefer to always use the DFHack version and don't want to accidentally click on the vanilla button). enable ``caravan.movegoods_hider`` in `gui/control-panel` UI Overlays tab to use.
- `caravan`: bring goods to depot screen now shows (approximate) distance from item to depot
- `gui/design`: circles are more circular (now matches more pleasing shape generated by ``digcircle``)
- `gui/quickfort`: you can now delete your blueprints from the blueprint load dialog
- `caravan`: remember filter settings for pedestal item assignment dialog
- `quickfort`: new ``delete`` command for deleting player-owned blueprints (library and mod-added blueprints cannot be deleted)
- `quickfort`: support enabling `logistics` features for autoforbid and autoclaim on stockpiles
- `gui/quickfort`: allow farm plots, dirt roads, and paved roads to be designated around partial obstructions without calling it an error, matching vanilla behavior
- `gui/launcher`: refresh default tag filter when mortal mode is toggled in `gui/control-panel` so changes to which tools autocomplete take effect immediately
- `gui/civ-alert`: you can now register multiple burrows as civilian alert safe spaces
- `exterminate`: add ``all`` target for convenient scorched earth tactics
- `empty-bin`: select a stockpile, tile, or building to empty all containers in the stockpile, tile, or building
- `exterminate`: add ``--limit`` option to limit number of exterminated creatures
- `exterminate`: add ``knockout`` and ``traumatize`` method for non-lethal incapacitation
- `caravan`: add shortcut to the trade request screen for selecting item types by value (e.g. so you can quickly select expensive gems or cheap leather)
- `gui/notify`: notification panel extended to apply to adventure mode
- `gui/control-panel`: highlight preferences that have been changed from the defaults
- `gui/quickfort`: buildings can now be constructed in a "high priority" state, giving them first dibs on `buildingplan` materials and setting their construction jobs to the highest priority
- `prioritize`: add ``ButcherAnimal`` to the default prioritization list (``SlaughterAnimal`` was already there, but ``ButcherAnimal`` -- which is different -- was missing)
- `prioritize`: list both unclaimed and total counts for current jobs when the --jobs option is specified
- `prioritize`: boost performance of script by not tracking number of times a job type was prioritized
- `gui/unit-syndromes`: make werecreature syndromes easier to search for

## Removed
- `max-wave`: merged into `pop-control`
- `devel/find-offsets`, `devel/find-twbt`, `devel/prepare-save`: remove development scripts that are no longer useful
- `fix/item-occupancy`, `fix/tile-occupancy`: merged into `fix/occupancy`
- `adv-fix-sleepers`: renamed to `fix/sleepers`
- `adv-rumors`: merged into `advtools`

# 50.13-r2

## New Tools
- Updated for adventure mode: `gui/sandbox`, `gui/create-item`, `gui/reveal`
- `ghostly`: (reinstated) allow your adventurer to phase through walls
- `markdown`: (reinstated) export description of selected unit or item to a text file
- `adaptation`: (reinstated) inspect or set unit cave adaptation levels
- `fix/engravings`: fix corrupt engraving tiles
- `unretire-anyone`: (reinstated) choose anybody in the world as an adventurer
- `reveal-adv-map`: (reinstated) reveal (or hide) the adventure map
- `resurrect-adv`: (reinstated) allow your adventurer to recover from death
- `flashstep`: (reinstated) teleport your adventurer to the mouse cursor

## New Features
- `instruments`: new subcommand ``instruments order`` for creating instrument work orders

## Fixes
- `modtools/create-item`: now functions properly when the ``reaction-gloves`` tweak is active
- `quickfort`: don't designate multiple tiles of the same tree for chopping when applying a tree chopping blueprint to a multi-tile tree
- `gui/quantum`: fix processing when creating a quantum dump instead of a quantum stockpile
- `caravan`: don't include undiscovered divine artifacts in the goods list
- `quickfort`: fix detection of valid tiles for wells
- `combine`: respect container volume limits

## Misc Improvements
- `gui/autobutcher`: add shortcuts for butchering/unbutchering all animals
- `combine`: reduce combined drink sizes to 25
- `gui/launcher`: add button for copying output to the system clipboard
- `deathcause`: automatically find and choose a corpse when a pile of mixed items is selected
- `gui/quantum`: add option for whether a minecart automatically gets ordered and/or attached
- `gui/quantum`: when attaching a minecart, show which minecart was attached
- `gui/quantum`: allow multiple feeder stockpiles to be linked to the minecart route
- `prioritize`: add PutItemOnDisplay jobs to the default prioritization list -- when these kinds of jobs are requested by the player, they generally want them done ASAP

# 50.13-r1.1

## Fixes
- `gui/quantum`: accept all item types in the output stockpile as intended
- `deathcause`: fix error on run

# 50.13-r1

## New Tools
- `gui/unit-info-viewer`: (reinstated) give detailed information on a unit, such as egg laying behavior, body size, birth date, age, and information about their afterlife behavior (if a ghost)
- `gui/quantum`: (reinstated) point and click interface for creating quantum stockpiles or quantum dumps

## Fixes
- `open-legends`: don't interfere with the dragging of vanilla list scrollbars
- `gui/create-item`: properly restrict bags to bag materials by default
- `gui/create-item`: allow gloves and shoes to be made out of textiles by default
- `exterminate`: don't classify dangerous non-invader units as friendly (e.g. snatchers)

## Misc Improvements
- `open-legends`: allow player to cancel the "DF will now exit" dialog and continue browsing
- `gui/gm-unit`: changes to unit appearance will now immediately be reflected in the unit portrait

# 50.12-r3

## New Tools
- `gui/aquifer`: interactive aquifer visualization and editing
- `open-legends`: (reinstated) open legends mode directly from a loaded fort

## New Features
- `quickfort`: add options for setting warm/damp dig markers when applying blueprints
- `gui/quickfort`: add options for setting warm/damp dig markers when applying blueprints
- `gui/reveal`: new "aquifer only" mode to only see hidden aquifers but not reveal any tiles
- `gui/notify`: optional notification for general wildlife (not on by default)

## Fixes
- `fix/loyaltycascade`: fix edge case where loyalties of renegade units were not being fixed
- `quickfort`: reject tiles for building that contain magma or deep water
- `armoks-blessing`: fix error when making "Normal" attributes legendary
- `emigration`: remove units from burrows when they emigrate
- `agitation-rebalance`: fix calculated percent chance of cavern invasion
- `gui/launcher`: don't pop up a result dialog if a command run from minimal mode has no output

## Misc Improvements
- `gui/reveal`: show aquifers even when not in mining mode
- `gui/control-panel`: add alternate "nodump" version for `cleanowned` that does not cause citizens to toss their old clothes in the dump. this is useful for players who would rather sell old clothes than incinerate them
- `agitation-rebalance`: when more than the maximum allowed cavern invaders are trying to enter the map, prefer keeping the animal people invaders instead of their war animals

## Removed
- `drain-aquifer`: replaced by ``aquifer drain --all``; an alias now exists so ``drain-aquifer`` will automatically run the new command

# 50.12-r2.1

## Fixes
- `fix/noexert-exhaustion`: fix typo in control panel registry entry which prevented the fix from being run when enabled
- `gui/suspendmanager`: fix script startup errors
- `control-panel`: properly auto-enable newly added bugfixes

## Misc Improvements
- `gui/unit-syndromes`: make syndromes searchable by their display names (e.g.  "necromancer")

# 50.12-r2

## New Tools
- `agitation-rebalance`: alter mechanics of irritation-related attacks so they are less constant and are more responsive to recent player behavior
- `fix/ownership`: fix instances of multiple citizens claiming the same items, resulting in "Store owned item" job loops
- `fix/stuck-worship`: fix prayer so units don't get stuck in uninterruptible "Worship!" states
- `instruments`: provides information on how to craft the instruments used by the player civilization
- `modtools/item-trigger`: (reinstated) modder's resource for triggering scripted content when specific items are used
- `modtools/if-entity`: (reinstated) modder's resource for triggering scripted content depending on the race of the loaded fort
- `devel/block-borders`: (reinstated) highlights boundaries of map blocks or embark tile blocks
- `fix/noexert-exhaustion`: fix "Tired" NOEXERT units. Enabling via `gui/control-panel` prevents NOEXERT units from getting stuck in a "Tired" state

## New Features
- `gui/settings-manager`: add import, export, and autoload for work details
- `exterminate`: new "disintegrate" kill method that additionally destroys carried items
- `quickfort`: allow setting of workshop profile properties (e.g. labor, skill restrictions) from build blueprints

## Fixes
- `gui/launcher`: fix history scanning (Up/Down arrow keys) being slow to respond when in minimal mode
- `control-panel`: fix filtering not filtering when running the ``list`` command
- `gui/notify`: don't zoom to forbidden depots for merchants ready to trade notification
- `catsplosion`: only cause pregnancies in adults

## Misc Improvements
- `gui/launcher`: add interface for browsing and filtering commands by tags
- `gui/launcher`: add support for history search (Alt-s hotkey) when in minimal mode
- `gui/launcher`: add support for the ``clear`` command and clearing the scrollback buffer
- `control-panel`: enable tweaks quietly on fort load so we don't spam the console
- `devel/tile-browser`: simplify interface now that SDL automatically normalizes texture scale
- `exterminate`: make race name matching case and space insensitive
- `gui/gm-editor`: support opening engraved art for inspection
- `gui/notify`: Shift click or Shift Enter on a zoomable notification to zoom to previous target
- `allneeds`: select a dwarf in the UI to see a summary of needs for just that dwarf
- `allneeds`: provide options for sorting the cumulative needs by different criteria
- `prioritize`: print out custom reaction and hauling jobs in the same format that is used for ``prioritize`` command arguments so the player can just copy and paste

# 50.12-r1

## Fixes
- `gui/notify`: persist notification settings when toggled in the UI

## Misc Improvements
- `gui/launcher`: developer mode hotkey restored to Ctrl-D

# 50.11-r7

## New Tools
- `undump-buildings`: (reinstated) remove dump designation from in-use building materials
- `gui/petitions`: (reinstated) show outstanding (or all historical) petition agreements for guildhalls and temples
- `gui/notify`: display important notifications that vanilla doesn't support yet and provide quick zoom links to notification targets.
- `list-waves`: (reinstated) show migration wave information
- `make-legendary`: (reinstated) make a dwarf legendary in specified skills
- `combat-harden`: (reinstated) set a dwarf's resistance to being affected by visible corpses
- `add-thought`: (reinstated) add custom thoughts to a dwarf
- `devel/input-monitor`: interactive UI for debugging input issues

## Fixes
- `gui/design`: clicking the center point when there is a design mark behind it will no longer simultaneously enter both mark dragging and center dragging modes. Now you can click once to move the shape, and click twice to move only the mark behind the center point.
- `fix/retrieve-units`: prevent pulling in duplicate units from offscreen
- `warn-stranded`: when there was at least one truly stuck unit and miners were actively mining, the miners were also confusingly shown in the stuck units list
- `source`: fix issue where removing sources would make some other sources inactive
- `caravan`: display book and scroll titles in the goods and trade dialogs instead of generic scroll descriptions
- `item`: avoid error when scanning items that have no quality rating (like bars and other construction materials)
- `gui/blueprint`: changed hotkey for setting blueprint origin tile so it doesn't conflict with default map movement keys
- `gui/control-panel`: fix error when toggling autostart settings

## Misc Improvements
- `exportlegends`: make progress increase smoothly over the entire export and increase precision of progress percentage
- `gui/autobutcher`: ask for confirmation before zeroing out targets for all races
- `caravan`: move goods to trade depot dialog now allocates more space for the display of the value of very expensive items
- `extinguish`: allow selecting units/items/buildings in the UI to target them for extinguishing; keyboard cursor is only required for extinguishing map tiles that cannot be selected any other way
- `item`: change syntax so descriptions can be searched for without indicating the ``--description`` option. e.g. it's now ``item count royal`` instead of ``item count --description royal``
- `item`: add ``--verbose`` option to print each item as it is matched
- `gui/mod-manager`: will automatically unmark the default mod profile from being the default if it fails to load (due to missing or incompatible mods)
- `gui/quickfort`: can now dynamically adjust the dig priority of tiles designated by dig blueprints
- `gui/quickfort`: can now opt to apply dig blueprints in marker mode

## Removed
- `gui/manager-quantity`: the vanilla UI can now modify manager order quantities after creation
- `gui/create-tree`: replaced by `gui/sandbox`
- `warn-starving`: combined into `gui/notify`
- `warn-stealers`: combined into `gui/notify`

# 50.11-r6

## Fixes
- `makeown`: fix error when adopting units that need a historical figure to be created
- `item`: fix missing item categories when using ``--by-type``

# 50.11-r5

## New Tools
- `control-panel`: new commandline interface for control panel functions
- `uniform-unstick`: (reinstated) force squad members to drop items that they picked up in the wrong order so they can get everything equipped properly
- `gui/reveal`: temporarily unhide terrain and then automatically hide it again when you're ready to unpause
- `gui/teleport`: mouse-driven interface for selecting and teleporting units
- `gui/biomes`: visualize and inspect biome regions on the map
- `gui/embark-anywhere`: bypass those pesky warnings and embark anywhere you want to
- `item`: perform bulk operations on groups of items.

## New Features
- `uniform-unstick`: add overlay to the squad equipment screen to show a equipment conflict report and give you a one-click button to (attempt to) fix
- `gui/settings-manager`: save and load embark difficulty settings and standing orders; options for auto-load on new embark

## Fixes
- `source`: water and magma sources and sinks now persist with fort across saves and loads
- `gui/design`: fix incorrect dimensions being shown when you're placing a stockpile, but a start coordinate hasn't been selected yet
- `warn-stranded`: don't warn for citizens who are only transiently stranded, like those on stepladders gathering plants or digging themselves out of a hole
- `ban-cooking`: fix banning creature alcohols resulting in error
- `confirm`: properly detect clicks on the remove zone button even when the unit selection screen is also open (e.g. the vanilla assign animal to pasture panel)
- `caravan`: ensure items are marked for trade when the move trade goods dialog is closed even when they were selected and then the list filters were changed such that the items were no longer actively shown
- `quickfort`: if a blueprint specifies an up/down stair, but the tile the blueprint is applied to cannot make an up stair (e.g. it has already been dug out), still designate a down stair if possible
- `suspendmanager`: correctly handle building collisions with smoothing designations when the building is on the edge of the map
- `empty-bin`: now correctly sends ammunition in carried quivers to the tile underneath the unit instead of teleporting them to an invalid (or possibly just far away) location

## Misc Improvements
- `warn-stranded`: center the screen on the unit when you select one in the list
- `gui/control-panel`: reduce frequency for `warn-stranded` check to once every 2 days
- `gui/control-panel`: tools are now organized by type: automation, bugfix, and gameplay
- `confirm`: updated confirmation dialogs to use clickable widgets and draggable windows
- `confirm`: added confirmation prompt for right clicking out of the trade agreement screen (so your trade agreement selections aren't lost)
- `confirm`: added confirmation prompts for irreversible actions on the trade screen
- `confirm`: added confirmation prompt for deleting a uniform
- `confirm`: added confirmation prompt for convicting a criminal
- `confirm`: added confirmation prompt for re-running the embark site finder
- `confirm`: added confirmation prompt for reassigning or clearing zoom hotkeys
- `confirm`: added confirmation prompt for exiting the uniform customization page without saving
- `gui/autobutcher`: interface redesigned to better support mouse control
- `gui/launcher`: now persists the most recent 32KB of command output even if you close it and bring it back up
- `gui/quickcmd`: clickable buttons for command add/remove/edit operations
- `uniform-unstick`: warn if a unit belongs to a squad from a different site (can happen with migrants from previous forts)
- `gui/mass-remove`: can now differentiate planned constructions, stockpiles, and regular buildings
- `gui/mass-remove`: can now remove zones
- `gui/mass-remove`: can now cancel removal for buildings and constructions
- `fix/stuck-instruments`: now handles instruments that are left in the "in job" state but that don't have any actual jobs associated with them
- `gui/launcher`: make autocomplete case insensitive

# 50.11-r4

## New Tools
- `build-now`: (reinstated) instantly complete unsuspended buildings that are ready to be built

## Fixes
- `combine`: prevent stack sizes from growing beyond quantities that you would normally see in vanilla gameplay
- `gui/design`: Center dragging shapes now track the mouse correctly

## Misc Improvements
- `caravan`: enable searching within containers in trade screen when in "trade bin with contents" mode

# 50.11-r3

## New Tools
- `sync-windmills`: synchronize or randomize movement of active windmills
- `trackstop`: (reimplemented) integrated overlay for changing track stop and roller settings after construction

## New Features
- `gui/design`: show selected dimensions next to the mouse cursor when designating with vanilla tools, for example when painting a burrow or designating digging
- `quickfort`: new ``burrow`` blueprint mode for designating or manipulating burrows
- `unforbid`: now ignores worn and tattered items by default (X/XX), use -X to bypass
- `fix/dead-units`: gained ability to scrub dead units from burrow membership lists

## Fixes
- `gui/unit-syndromes`: show the syndrome names properly in the UI
- `emigration`: fix clearing of work details assigned to units that leave the fort

## Misc Improvements
- `warn-stranded`: don't warn for units that are temporarily on unwalkable tiles (e.g. as they pass under a waterfall)

## Removed
- `gui/control-panel`: removed always-on system services from the ``System`` tab: `buildingplan`, `confirm`, `logistics`, and `overlay`. The base services should not be turned off by the player. Individual confirmation prompts can be managed via `gui/confirm`, and overlays (including those for `buildingplan` and `logistics`) are managed on the control panel ``Overlays`` tab.
- `gui/control-panel`: removed `autolabor` from the ``Fort`` and ``Autostart`` tabs. The tool does not function correctly with the new labor types, and is causing confusion. You can still enable `autolabor` from the commandline with ``enable autolabor`` if you understand and accept its limitations.

# 50.11-r2

## New Tools
- `add-recipe`: (reinstated) add reactions to your civ (e.g. for high boots if your civ didn't start with the ability to make high boots)
- `fix/corrupt-jobs`: prevents crashes by automatically removing corrupted jobs
- `burial`: (reinstated) create tomb zones for unzoned coffins

## New Features
- `burial`: new options to configure automatic burial and limit scope to the current z-level
- `drain-aquifer`: gained ability to drain just above or below a certain z-level
- `drain-aquifer`: new option to drain all layers except for the first N aquifer layers, in case you want some aquifer layers but not too many
- `gui/control-panel`: ``drain-aquifer --top 2`` added as an autostart option

## New Scripts
- `warn-stranded`: new repeatable maintenance script to check for stranded units, similar to `warn-starving`

## Fixes
- `suspendmanager`: fix errors when constructing near the map edge
- `gui/sandbox`: fix scrollbar moving double distance on click
- `hide-tutorials`: fix the embark tutorial prompt sometimes not being skipped
- `full-heal`: fix removal of corpse after resurrection
- `toggle-kbd-cursor`: clear the cursor position when disabling, preventing the game from sometimes jumping the viewport around when cursor keys are hit

## Misc Improvements
- `prioritize`: refuse to automatically prioritize dig and smooth/carve job types since it can break the DF job scheduler; instead, print a suggestion that the player use specialized units and vanilla designation priorities
- `gui/overlay`: filter overlays by current context so there are fewer on the screen at once and you can more easily click on the one you want to reposition
- `quickfort`: now allows constructions to be built on top of constructed floors and ramps, just like vanilla. however, to allow blueprints to be safely reapplied to the same area, for example to fill in buildings whose constructions were canceled due to lost items, floors will not be rebuilt on top of floors and ramps will not be rebuilt on top of ramps
- `gui/gm-editor`: for fields with primitive types, change from click to edit to click to select, double-click to edit. this should help prevent accidental modifications to the data and make hotkeys easier to use (since you have to click on a data item to use a hotkey on it)

# 50.11-r1

## New Tools
- `startdwarf`: (reinstated) set number of starting dwarves

## New Features
- `startdwarf`: overlay scrollbar so you can scroll through your starting dwarves if they don't all fit on the screen
- A new searchable, sortable, filterable dialog for selecting items for display on pedestals and display cases

## Fixes
- `suspendmanager`: fixed a bug where floor grates, bars, bridges etc. wouldn't be recognised as walkable, leading to unnecessary suspensions in certain cases.

## Misc Improvements
- `devel/inspect-screen`: display total grid size for UI and map layers
- `suspendmanager`: now suspends constructions that would cave-in immediately on completion

# 50.10-r1

## Fixes
- 'fix/general-strike: fix issue where too many seeds were getting planted in farm plots

# 50.09-r4

## Misc Improvements
- `autofish`: changed ``--raw`` argument format to allow explicit setting to on or off
- `caravan`: move goods to depot screen can now see/search/trade items inside of barrels and pots
- `gui/launcher`: show tagged tools in the autocomplete list when a tag name is typed

# 50.09-r3

## New Tools
- `devel/scan-vtables`: scan and dump likely vtable addresses (for memory research)
- `hide-interface`: hide the vanilla UI elements for clean screenshots or laid-back fortress observing
- `hide-tutorials`: hide the DF tutorial popups; enable in the System tab of `gui/control-panel`
- `set-orientation`: tinker with romantic inclinations (reinstated from back catalog of tools)

## New Features
- `exportlegends`: new overlay that integrates with the vanilla "Export XML" button. Now you can generate both the vanilla export and the extended data export with a single click!

## Fixes
- `suspendmanager`: Fix the overlay enabling/disabling `suspendmanager` unexpectedly
- `caravan`: correct price adjustment values in trade agreement details screen
- `caravan`: apply both import and export trade agreement price adjustments to items being both bought or sold to align with how vanilla DF calculates prices
- `caravan`: cancel any active TradeAtDepot jobs if all caravans are instructed to leave
- `emigration`: fix errors loading forts after dwarves assigned to work details or workshops have emigrated
- `emigration`: fix citizens sometimes "emigrating" to the fortress site
- `suspendmanager`: improve the detection on "T" and "+" shaped high walls
- `starvingdead`: ensure sieges end properly when undead siegers starve
- `fix/retrieve-units`: fix retrieved units sometimes becoming duplicated on the map
- `quickfort`: cancel old dig jobs that point to a tile when a new designation is applied to the tile
- `gui/launcher`, `gui/gm-editor`: recover gracefully when the saved frame position is now offscreen
- `gui/sandbox`: correctly load equipment materials in modded games that categorize non-wood plants as wood

## Misc Improvements
- `devel/lsmem`: added support for filtering by memory addresses and filenames
- `gui/gm-editor`: hold down shift and right click to exit, regardless of how many substructures deep you are
- `quickfort`: linked stockpiles and workshops can now be specified by ID instead of only by name. this is mostly useful when dynamically generating blueprints and applying them via the `quickfort` API
- `gui/quickfort`: blueprint details screen can now be closed with Ctrl-D (the same hotkey used to open the details)
- `suspendmanager`: display a different color for jobs suspended by suspendmanager
- `caravan`: optionally display items within bins in bring goods to depot screen
- `gui/gm-editor`: display in the title bar whether the editor window is scanning for live updates
- `gui/design`: change "auto commit" hotkey from ``c`` to ``Alt-c`` to avoid conflict with the default keybinding for z-level down
- `gui/liquids`: support removing river sources by converting them into stone floors

# 50.09-r2

## New Scripts
- `caravan`: new trade screen UI replacements for bringing goods to trade depot and trading
- `fix/empty-wheelbarrows`: new script to empty stuck rocks from all wheelbarrows on the map

## Fixes
- `gui/autodump`: when "include items claimed by jobs" is on, actually cancel the job so the item can be teleported
- `gui/gm-unit`: fix commandline processing when a unit id is specified
- `suspendmanager`: take in account already built blocking buildings
- `suspendmanager`: don't consider tree branches as a suitable access path to a building

## Misc Improvements
- `gui/unit-syndromes`: make lists searchable
- `suspendmanager`: display the suspension reason when viewing a suspended building
- `quickfort`: blueprint libraries are now moddable -- add a ``blueprints/`` directory to your mod and they'll show up in `quickfort` and `gui/quickfort`!

# 50.09-r1

## Misc Improvements
- `caravan`: new overlay for selecting all/none on trade request screen
- `suspendmanager`: don't suspend constructions that are built over open space

# 50.08-r4

## Fixes
- `gui/create-item`: allow blocks to be made out of wood when using the restrictive filters
- `emigration`: reassign home site for emigrating units so they don't just come right back to the fort
- `gui/sandbox`: allow creatures that have separate caste-based graphics to be spawned (like ewes/rams)
- `gui/liquids`: ensure tile temperature is set correctly when painting water or magma
- `workorder`: prevent ``autoMilkCreature`` from over-counting milkable animals, which was leading to cancellation spam for the MilkCreature job
- `gui/quickfort`: allow traffic designations to be applied over buildings
- `gui/quickfort`: protect against meta blueprints recursing infinitely if they include themselves

## Misc Improvements
- `gui/control-panel`: add some popular startup configuration commands for `autobutcher` and `autofarm`
- `gui/control-panel`: add option for running `fix/blood-del` on new forts (enabled by default)
- `gui/sandbox`: when creating citizens, give them names appropriate for their races
- `gui/autodump`: add option to clear the ``trader`` flag from teleported items, allowing you to reclaim items dropped by merchants
- `quickfort`: significant rewrite for DF v50! now handles zones, locations, stockpile configuration, hauling routes, and more
- `suspendmanager`: now suspends construction jobs on top of floor designations, protecting the designations from being erased
- `prioritize`: add wild animal management tasks and lever pulling to the default list of prioritized job types
- `suspendmanager`: suspend blocking jobs when building high walls or filling corridors
- `workorder`: reduce existing orders for automatic shearing and milking jobs when animals are no longer available
- `gui/quickfort`: adapt "cursor lock" to mouse controls so it's easier to see the full preview for multi-level blueprints before you apply them
- `gui/quickfort`: only display post-blueprint messages once when repeating the blueprint up or down z-levels
- `combine`: reduce max different stacks in containers to 30 to prevent containers from getting overfull

## Removed
- `gui/automelt`: replaced by an overlay panel that appears when you click on a stockpile

# 50.08-r2

## New Scripts
- `diplomacy`: view or alter diplomatic relationships
- `exportlegends`: (reinstated) export extended legends information for external browsing
- `modtools/create-item`: (reinstated) commandline and API interface for creating items
- `light-aquifers-only`: (reinstated) convert heavy aquifers to light
- `necronomicon`: search fort for items containing the secrets of life and death
- `fix/stuck-instruments`: fix instruments that are attached to invalid jobs, making them unusable. turn on automatic fixing in `gui/control-panel` in the ``Maintenance`` tab.
- `gui/mod-manager`: automatically restore your list of active mods when generating new worlds
- `gui/autodump`: point and click item teleportation and destruction interface (available only if ``armok`` tools are shown)
- `gui/sandbox`: creation interface for units, trees, and items (available only if ``armok`` tools are shown)
- `assign-minecarts`: (reinstated) quickly assign minecarts to hauling routes

## Fixes
- `quickfort`: properly allow dwarves to smooth, engrave, and carve beneath walkable tiles of buildings
- `deathcause`: fix incorrect weapon sometimes being reported
- `gui/create-item`: allow armor to be made out of leather when using the restrictive filters
- `gui/design`: Fix building and stairs designation
- `quickfort`: fixed detection of tiles where machines are allowed (e.g. water wheels *can* be built on stairs if there is a machine support nearby)
- `quickfort`: fixed rotation of blueprints with carved track tiles

## Misc Improvements
- `gui/quickfort`: blueprints that designate items for dumping/forbidding/etc. no longer show an error highlight for tiles that have no items on them
- `gui/quickfort`: place (stockpile layout) mode is now supported. note that detailed stockpile configurations were part of query mode and are not yet supported
- `gui/quickfort`: you can now generate manager orders for items required to complete blueprints
- `gui/create-item`: ask for number of items to spawn by default
- `light-aquifers-only`: now available as a fort Autostart option in `gui/control-panel`. note that it will only appear if "armok" tools are configured to be shown on the Preferences tab.
- `gui/gm-editor`: when passing the ``--freeze`` option, further ensure that the game is frozen by halting all rendering (other than for DFHack tool windows)
- `gui/gm-editor`: Alt-A now enables auto-update mode, where you can watch values change live when the game is unpaused

# 50.08-r1

## Fixes
- `deteriorate`: ensure remains of enemy dwarves are properly deteriorated
- `suspendmanager`: Fix over-aggressive suspension of jobs that could still possibly be done (e.g. jobs that are partially submerged in water)

## Misc Improvements
- `combine`: Now supports ammo, parts, powders, and seeds, and combines into containers
- `deteriorate`: add option to exclude useable parts from deterioration
- `gui/gm-editor`: press ``g`` to move the map to the currently selected item/unit/building
- `gui/gm-editor`: press ``Ctrl-D`` to toggle read-only mode to protect from accidental changes; this state persists across sessions
- `gui/gm-editor`: new ``--freeze`` option for ensuring the game doesn't change while you're inspecting it
- `gui/launcher`: DFHack version now shown in the default help text
- `gui/prerelease-warning`: widgets are now clickable

# 50.07-r1

## Fixes
-@ `caravan`: fix trade good list sometimes disappearing when you collapse a bin
-@ `gui/gm-editor`: no longer nudges last open window when opening a new one
- `warn-starving`: no longer warns for dead units
-@ `gui/control-panel`: the config UI for `automelt` is no longer offered when not in fortress mode

## Misc Improvements
- `gui/gm-editor`: can now jump to material info objects from a mat_type reference with a mat_index using ``i``
- `gui/gm-editor`: the key column now auto-fits to the widest key
- `prioritize`: revise and simplify the default list of prioritized jobs -- be sure to tell us if your forts are running noticeably better (or worse!)
-@ `gui/control-panel`: add `faststart` to the system services

# 50.07-beta2

## New Scripts
- `fix/general-strike`: fix known causes of the general strike bug (contributed by Putnam)
- `gui/seedwatch`: GUI config and status panel interface for `seedwatch`
- `gui/civ-alert`: configure and trigger civilian alerts

## Fixes
-@ `caravan`: item list length now correct when expanding and collapsing containers
-@ `prioritize`: fixed all watched job type names showing as ``nil`` after a game load
-@ `suspendmanager`: does not suspend non-blocking jobs such as floor bars or bridges anymore
-@ `suspendmanager`: fix occasional bad identification of buildingplan jobs
- `warn-starving`: no longer warns for enemy and neutral units

## Misc Improvements
- `gui/control-panel`: Now detects overlays from scripts named with capital letters
- `gui/cp437-table`: now has larger key buttons and clickable backspace/submit/cancel buttons, making it fully usable on the Steam Deck and other systems that don't have an accessible keyboard
-@ `gui/design`: Now supports placing constructions using 'Building' mode. Inner and Outer tile constructions are configurable. Uses buildingplan filters set up with the regular buildingplan interface.
- `exterminate`: add support for ``vaporize`` kill method for when you don't want to leave a corpse
- `combine`: you can select a target stockpile in the UI instead of having to use the keyboard cursor
- `combine`: added ``--quiet`` option for no output when there are no changes
- `stripcaged`: added ``--skip-forbidden`` option for greater control over which items are marked for dumping
- `stripcaged`: items that are marked for dumping are now automatically unforbidden (unless ``--skip-forbidden`` is set)
-@ `gui/control-panel`: added ``combine all`` maintenance option for automatic combining of partial stacks in stockpiles
-@ `gui/control-panel`: added ``general-strike`` maintenance option for automatic fixing of (at least one cause of) the general strike bug
- `gui/cp437-table`: dialog is now fully controllable with the mouse, including highlighting which key you are hovering over and adding a clickable backspace button

## Removed
- `autounsuspend`: replaced by `suspendmanager`
-@ `gui/dig`: renamed to `gui/design`

# 50.07-beta1

## New Scripts
- `suspendmanager`: automatic job suspension management (replaces `autounsuspend`)
- `gui/suspendmanager`: graphical configuration interface for `suspendmanager`
- `suspend`: suspends building construction jobs

## Fixes
-@ `quicksave`: now reliably triggers an autosave, even if one has been performed recently
- `gui/launcher`: tab characters in command output now appear as a space instead of a code page 437 "blob"

## Misc Improvements
- `quickfort`: now reads player-created blueprints from ``dfhack-config/blueprints/`` instead of the old ``blueprints/`` directory. Be sure to move over your personal blueprints to the new directory!
- `gui/gm-editor`: can now open the selected stockpile if run without parameters

# 50.07-alpha3

## Fixes
-@ `gui/create-item`: fix generic corpsepiece spawning

## Misc Improvements
- `gui/create-item`: added ability to spawn 'whole' corpsepieces (every layer of a part)
-@ `gui/dig`: Allow placing an extra point (curve) while still placing the second main point
-@ `gui/dig`: Allow placing n-point shapes, shape rotation/mirroring
-@ `gui/dig`: Allow second bezier point, mirror-mode for freeform shapes, symmetry mode

# 50.07-alpha2

## New Scripts
- `combine`: combines stacks of food and plant items.

## Fixes
-@ `troubleshoot-item`: fix printing of job details for chosen item
-@ `makeown`: fixes errors caused by using makeown on an invader
-@ `gui/blueprint`: correctly use setting presets passed on the commandline
-@ `gui/quickfort`: correctly use settings presets passed on the commandline
- `devel/query`: can now properly index vectors in the --table argument
-@ `forbid`: fix detection of unreachable items for items in containers
-@ `unforbid`: fix detection of unreachable items for items in containers

## Misc Improvements
- `troubleshoot-item`: output as bullet point list with indenting, with item description and ID at top
- `troubleshoot-item`: reports on items that are hidden, artifacts, in containers, and held by a unit
- `troubleshoot-item`: reports on the contents of containers with counts for each contained item type
- `devel/visualize-structure`: now automatically inspects the contents of most pointer fields, rather than inspecting the pointers themselves
- `devel/query`: will now search for jobs at the map coordinate highlighted, if no explicit job is highlighted and there is a map tile highlighted
- `caravan`: add trade screen overlay that assists with selecting groups of items and collapsing groups in the UI
- `gui/gm-editor`: will now inspect a selected building itself if the building has no current jobs

## Removed
- `combine-drinks`: replaced by `combine`
- `combine-plants`: replaced by `combine`

# 50.07-alpha1

## New Scripts
- `gui/design`: digging and construction designation tool with shapes and patterns
- `makeown`: makes the selected unit a citizen of your fortress

## Fixes
-@ `gui/unit-syndromes`: allow the window widgets to be interacted with
-@ `fix/protect-nicks`: now works by setting the historical figure nickname
-@ `gui/liquids`: fixed issues with unit pathing after adding/removing liquids
-@ `gui/dig`: Fix for 'continuing' auto-stair designation. Avoid nil index issue for tile_type

## Misc Improvements
- `gui/gm-editor`: now supports multiple independent data inspection windows
- `gui/gm-editor`: now prints out contents of coordinate vars instead of just the type
- `rejuvenate`: now takes an --age parameter to choose a desired age.
-@ `gui/dig` : Added 'Line' shape that also can draw curves, added draggable center handle

# 50.05-alpha3.1

## Fixes
-@ `gui/launcher`: no longer resets to the Help tab on every keystroke

# 50.05-alpha3

## New Scripts
- `autofish`: auto-manage fishing labors to control your stock of fish
- `gui/autofish`: GUI config and status panel interface for autofish
- `gui/automelt`: GUI config and status panel interface for automelt
- `gui/control-panel`: quick access to DFHack configuration
- `fix/civil-war`: removes negative relations with own government
- `fix/protect-nicks`: restore nicknames when DF loses them
- `forbid`: forbid and list forbidden items on the map
- `gui/unit-syndromes`: browser for syndrome information

## Fixes
- `build-now`: now correctly avoids adjusting non-empty tiles above constructions that it builds
- `catsplosion`: now only affects live, active units
- `quickfort`: allow floor bars, floor grates, and hatches to be placed over all stair types like vanilla allows

## Misc Improvements
- `ban-cooking`: ban announcements are now hidden by default; use new option ``--verbose`` to show them.
- `ban-cooking`: report number of items banned.
- `build-now`: now handles dirt roads and initializes farm plots properly
- `devel/click-monitor`: report on middle mouse button actions
-@ `gui/autochop`: hide uninteresting burrows by default
-@ `gui/blueprint`: allow map movement with the keyboard while the UI is open
- `gui/create-item`: support spawning corpse pieces (e.g. shells) under "body part"
- `gui/create-item`: added search and filter capabilities to the selection lists
- `gui/launcher`: make command output scrollback separate from the help text so players can continue to see the output of the previous command as they type the next one
- `gui/launcher`: allow double spacebar to pause/unpause the game, even while typing a command
- `gui/launcher`: clarify what is being shown in the autocomplete list (all commands, autocompletion of partially typed command, or commands related to typed command)
- `gui/launcher`: support running commands directly from the autocomplete list via double-clicking
- `gui/liquids`: interface overhaul, also now allows spawning river sources, setting/adding/removing liquid levels, and cleaning water from being salty or stagnant
- `gui/overlay`: now focuses on repositioning overlay widgets; enabling, disabling, and getting help for overlay widgets has moved to the new `gui/control-panel`
-@ `gui/quickcmd`: now acts like a regular window instead of a modal dialog
- `gui/quickfort`: don't close the window when applying a blueprint so players can apply the same blueprint multiple times more easily
- `locate-ore`: now only searches revealed tiles by default
- `modtools/spawn-liquid`: sets tile temperature to stable levels when spawning water or magma
-@ `prioritize`: pushing minecarts is now included in the default prioritization list
- `prioritize`: now automatically starts boosting the default list of job types when enabled
- `unforbid`: avoids unforbidding unreachable and underwater items by default
- `gui/create-item`: added whole corpse spawning alongside corpsepieces. (under "corpse")

## Removed
- `show-unit-syndromes`: replaced by `gui/unit-syndromes`; html export is no longer supported

# 50.05-alpha2

## Fixes
-@ `gui/gm-editor`: fix errors displayed while viewing help screen
- `build-now`: don't error on constructions that do not have an item attached

## Removed
- `create-items`: replaced by `gui/create-item` ``--multi``

# 50.05-alpha1

## New Scripts
- `gui/autochop`: configuration frontend and status monitor for the `autochop` plugin
- `devel/tile-browser`: page through available textures and see their texture ids
- `allneeds`: list all unmet needs sorted by how many dwarves suffer from them.

## Fixes
- `make-legendary`: "MilitaryUnarmed" option now functional

## Misc Improvements
- `autounsuspend`: now saves its state with your fort
- `emigration`: now saves its state with your fort
- `prioritize`: now saves its state with your fort
- `unsuspend`: overlay now displays different letters for different suspend states so they can be differentiated in graphics mode (P=planning, x=suspended, X=repeatedly suspended)
- `unsuspend`: overlay now shows a marker all the time when in graphics mode.  ascii mode still only shows when paused so that you can see what's underneath.
- `gui/gm-editor`: converted to a movable, resizable, mouse-enabled window
- `gui/launcher`: now supports a smaller, minimal mode. click the toggle in the launcher UI or start in minimal mode via the ``Ctrl-Shift-P`` keybinding
- `gui/launcher`: can now be dragged from anywhere on the window body
- `gui/launcher`: now remembers its size and position between invocations
- `gui/gm-unit`: converted to a movable, resizable, mouse-enabled window
- `gui/cp437-table`: converted to a movable, mouse-enabled window
- `gui/quickcmd`: converted to a movable, resizable, mouse-enabled window
- `gui/quickcmd`: commands are now stored globally so you don't have to recreate commands for every fort
- `devel/inspect-screen`: updated for new rendering semantics and can now also inspect map textures
- `exterminate`: added drown method. magma and drown methods will now clean up liquids automatically.

## Documentation
- `devel/hello-world`: updated to be a better example from which to start new gui scripts
